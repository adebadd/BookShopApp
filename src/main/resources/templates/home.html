<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Home</title>
</head>
<body style="font-family: Arial, sans-serif; background-color: #f0fff0;">
    <h1 style="color: green;">Greenhouse Gas Emissions</h1>
    <p style="color: green;" th:text="'Hello, ' + ${name} + '!'"></p>

    <div style="float: right; margin-right: 60px;">
        <img src="https://www.un.org/sites/un2.un.org/files/2021/08/feeling-the-heat.jpg" 
          style="max-width: 400px; border: 1px solid green;">
    </div>
    <form th:action="@{/parse}" method="get" style="margin-bottom: 20px;">
        <button type="submit" style="background-color: green; color: white; border: none; padding: 10px 20px; cursor: pointer;">Parse Data</button>
    </form>
    <div style="margin-bottom: 20px;">
        <a href="/api/emissions" style="text-decoration: none;">
            <button type="button" style="background-color: green; color: white; border: none; padding: 10px 20px; cursor: pointer;">View Emissions JSON</button>
        </a>
        <a href="/api/users" style="text-decoration: none;">
            <button type="button" style="background-color: green; color: white; border: none; padding: 10px 20px; cursor: pointer;">View Users JSON</button>
        </a>
    </div>
    
    <h2 style="color: green;">Emission Data</h2>
    
    <form th:action="@{/home}" method="get" style="margin-bottom: 20px;">
        <label for="categoryFilter" style="color: green;">Filter Emissions by category:</label>
        <select id="categoryFilter" name="category" style="padding: 5px;">
            <option value="" th:text="'All'" th:selected="${category == null || category == ''}"></option>
            <option th:each="cat : ${categories}" th:value="${cat}" th:text="${cat}" th:selected="${cat == category}"></option>
        </select>
        <button type="submit" style="background-color: green; color: white; border: none; padding: 5px 10px; cursor: pointer;">Filter</button>
    </form>
    
    <table border="1" style="border-collapse: collapse; width: 100%;">
        <thead style="background-color: #e0ffe0;">
            <tr>
                <th style="padding: 10px; text-align: left; color: green;">Category</th>
                <th style="padding: 10px; text-align: left; color: green;">Scenario</th>
                <th style="padding: 10px; text-align: left; color: green;">Year</th>
                <th style="padding: 10px; text-align: left; color: green;">Gas Units</th>
                <th style="padding: 10px; text-align: left; color: green;">Predicted Value</th>
                <th style="padding: 10px; text-align: left; color: green;">Actual Value</th>
                <th style="padding: 10px; text-align: left; color: green;">Description</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="emission : ${emissions}">
                <td style="padding: 10px; color: green;" th:text="${emission.category}"></td>
                <td style="padding: 10px; color: green;" th:text="${emission.scenario}"></td>
                <td style="padding: 10px; color: green;" th:text="${emission.year}"></td>
                <td style="padding: 10px; color: green;" th:text="${emission.gasUnits}"></td>
                <td style="padding: 10px; color: green;" th:text="${emission.predictedValue}"></td>
                <td style="padding: 10px; color: green;" th:text="${emission.actualValue}"></td>
                <td style="padding: 10px; color: green;" th:text="${emission.description}"></td>
            </tr>
        </tbody>
    </table>
        <form th:action="@{/logout}" method="get" style="margin-top: 20px;">
        <button type="submit" style="background-color: green; color: white; border: none; padding: 10px 20px; cursor: pointer;">Logout</button>
    </form>
</body>
</html>